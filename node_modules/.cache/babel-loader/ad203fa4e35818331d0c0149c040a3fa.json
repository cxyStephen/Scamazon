{"ast":null,"code":"var _jsxFileName = \"/Users/Tiffany/Desktop/cse305/src/components/ListingForm.jsx\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport API from \"../constants\";\n\nclass ListingForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      const target = e.target;\n      this.setState({\n        [target.name]: target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const new_price = this.state.price * 100;\n      const data = JSON.stringify({\n        item: this.state.item,\n        seller: this.state.seller,\n        quantity: this.state.quantity,\n        price: new_price\n      });\n      fetch(API + \"/create_listing\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: data\n      }).then(response => response.json()).then(data => {\n        console.log(data.success + \"\\n\" + data.message);\n\n        if (data.success) {\n          alert(\"A new listing was created.\");\n          console.log(this.props.onSubmit);\n          window.location.reload();\n        } else {\n          alert(\"Error: Could not create new listing.\");\n        }\n      }).catch(error => console.error(error));\n    };\n\n    this.state = {\n      item: \"\",\n      seller: \"\",\n      quantity: \"\",\n      price: \"\"\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Create a new listing\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Item ID:\", React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"item\",\n      type: \"text\",\n      value: this.state.item,\n      onChange: this.handleInputChange,\n      placeholder: \"Enter an Item ID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Seller:\", React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"seller\",\n      type: \"text\",\n      value: this.state.seller,\n      onChange: this.handleInputChange,\n      placeholder: \"Enter your email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Quantity:\", React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"quantity\",\n      type: \"text\",\n      value: this.state.quantity,\n      onChange: this.handleInputChange,\n      placeholder: \"Enter a number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Price: $\", React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"price\",\n      type: \"number\",\n      step: \"0.01\",\n      value: this.state.price,\n      onChange: this.handleInputChange,\n      placeholder: \"Enter a price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nexport default ListingForm;","map":{"version":3,"sources":["/Users/Tiffany/Desktop/cse305/src/components/ListingForm.jsx"],"names":["React","Component","API","ListingForm","constructor","props","handleInputChange","e","target","setState","name","value","handleSubmit","preventDefault","new_price","state","price","data","JSON","stringify","item","seller","quantity","fetch","method","headers","body","then","response","json","console","log","success","message","alert","onSubmit","window","location","reload","catch","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport API from \"../constants\";\n\nclass ListingForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      item: \"\",\n      seller: \"\",\n      quantity: \"\",\n      price: \"\"\n    };\n  }\n\n  handleInputChange = e => {\n    const target = e.target;\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const new_price = this.state.price * 100;\n    const data = JSON.stringify({\n      item: this.state.item,\n      seller: this.state.seller,\n      quantity: this.state.quantity,\n      price: new_price\n    });\n    fetch(API + \"/create_listing\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: data\n    })\n    .then(response => response.json())\n    .then(data => {\n      console.log(data.success + \"\\n\" + data.message);\n      if (data.success) {\n        alert(\"A new listing was created.\");\n        console.log(this.props.onSubmit);\n        window.location.reload();\n      } else {\n        alert(\"Error: Could not create new listing.\");\n      }\n    })\n    .catch(error => console.error(error));\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h3>Create a new listing</h3>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label>\n              Item ID:\n              <input\n                className=\"form-control\"\n                name=\"item\"\n                type=\"text\"\n                value={this.state.item}\n                onChange={this.handleInputChange}\n                placeholder=\"Enter an Item ID\"\n              />\n            </label>\n          </div>\n          <div className=\"form-group\">\n            <label>\n              Seller:\n              <input\n                className=\"form-control\"\n                name=\"seller\"\n                type=\"text\"\n                value={this.state.seller}\n                onChange={this.handleInputChange}\n                placeholder=\"Enter your email\"\n              />\n            </label>\n          </div>\n          <div className=\"form-group\">\n            <label>\n              Quantity:\n              <input\n                className=\"form-control\"\n                name=\"quantity\"\n                type=\"text\"\n                value={this.state.quantity}\n                onChange={this.handleInputChange}\n                placeholder=\"Enter a number\"\n              />\n            </label>\n          </div>\n          <div className=\"form-group\">\n            <label>\n              Price: $\n              <input\n                className=\"form-control\"\n                name=\"price\"\n                type=\"number\"\n                step=\"0.01\"\n                value={this.state.price}\n                onChange={this.handleInputChange}\n                placeholder=\"Enter a price\"\n              />\n            </label>\n          </div>\n          <div className=\"form-group\">\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Submit\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default ListingForm;\n"]},"metadata":{},"sourceType":"module"}